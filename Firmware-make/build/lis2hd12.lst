ARM GAS  /tmp/cchIwsSc.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"lis2hd12.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.lis2hd12_who_am_i,"ax",%progbits
  20              		.align	1
  21              		.global	lis2hd12_who_am_i
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	lis2hd12_who_am_i:
  27              	.LVL0:
  28              	.LFB134:
  29              		.file 1 "Core/Src/lis2hd12.c"
   1:Core/Src/lis2hd12.c **** #include "i2c.h"
   2:Core/Src/lis2hd12.c **** #include "lis2hd12.h"
   3:Core/Src/lis2hd12.c **** #include "main.h"
   4:Core/Src/lis2hd12.c **** 
   5:Core/Src/lis2hd12.c **** 
   6:Core/Src/lis2hd12.c **** volatile uint8_t write_complete = 0;
   7:Core/Src/lis2hd12.c **** volatile uint8_t read_complete = 0;
   8:Core/Src/lis2hd12.c **** 
   9:Core/Src/lis2hd12.c **** 
  10:Core/Src/lis2hd12.c **** #define LIS2HD12_I2C_ADDR (0x19 << 1)
  11:Core/Src/lis2hd12.c **** 
  12:Core/Src/lis2hd12.c **** 
  13:Core/Src/lis2hd12.c **** 
  14:Core/Src/lis2hd12.c **** static inline uint8_t lis2hd12_write(uint8_t *buf, uint32_t len)
  15:Core/Src/lis2hd12.c **** {
  16:Core/Src/lis2hd12.c ****     return i2c_write(LIS2HD12_I2C_ADDR, buf, len);
  17:Core/Src/lis2hd12.c **** }
  18:Core/Src/lis2hd12.c **** static inline uint8_t lis2hd12_read(uint8_t *buf, uint32_t len)
  19:Core/Src/lis2hd12.c **** {
  20:Core/Src/lis2hd12.c ****     return i2c_read(LIS2HD12_I2C_ADDR, buf, len);
  21:Core/Src/lis2hd12.c **** }
  22:Core/Src/lis2hd12.c **** static inline uint8_t lis2hd12_write_reg(uint8_t reg_addr, uint8_t data)
  23:Core/Src/lis2hd12.c **** {
  24:Core/Src/lis2hd12.c **** 
  25:Core/Src/lis2hd12.c **** }
  26:Core/Src/lis2hd12.c **** static inline uint8_t lis2hd12_read_reg(uint8_t reg_addr, uint8_t *data)
  27:Core/Src/lis2hd12.c **** {
  28:Core/Src/lis2hd12.c ****     HAL_StatusTypeDef ret =  lis2hd12_write(&reg_addr, 1);
  29:Core/Src/lis2hd12.c **** 
ARM GAS  /tmp/cchIwsSc.s 			page 2


  30:Core/Src/lis2hd12.c ****     if(ret != HAL_OK)
  31:Core/Src/lis2hd12.c ****     {
  32:Core/Src/lis2hd12.c ****         return ret;
  33:Core/Src/lis2hd12.c ****     }
  34:Core/Src/lis2hd12.c **** 
  35:Core/Src/lis2hd12.c **** 
  36:Core/Src/lis2hd12.c ****     return lis2hd12_read(data, 1);
  37:Core/Src/lis2hd12.c **** 
  38:Core/Src/lis2hd12.c **** }
  39:Core/Src/lis2hd12.c **** void lis2hd12_init(void);
  40:Core/Src/lis2hd12.c **** uint8_t lis2hd12_who_am_i(uint8_t *who_am_i)
  41:Core/Src/lis2hd12.c **** {
  30              		.loc 1 41 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 8
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 41 1 is_stmt 0 view .LVU1
  35 0000 10B5     		push	{r4, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 4, -8
  39              		.cfi_offset 14, -4
  40 0002 82B0     		sub	sp, sp, #8
  41              	.LCFI1:
  42              		.cfi_def_cfa_offset 16
  43 0004 0446     		mov	r4, r0
  42:Core/Src/lis2hd12.c ****     static const uint8_t reg_addr = 0x0f;
  44              		.loc 1 42 5 is_stmt 1 view .LVU2
  43:Core/Src/lis2hd12.c **** 
  44:Core/Src/lis2hd12.c ****     return lis2hd12_read_reg(reg_addr, who_am_i);
  45              		.loc 1 44 5 view .LVU3
  46 0006 0F23     		movs	r3, #15
  47 0008 8DF80730 		strb	r3, [sp, #7]
  48              	.LVL1:
  49              	.LBB12:
  50              	.LBI12:
  26:Core/Src/lis2hd12.c **** {
  51              		.loc 1 26 23 view .LVU4
  52              	.LBB13:
  28:Core/Src/lis2hd12.c **** 
  53              		.loc 1 28 5 view .LVU5
  54              	.LBB14:
  55              	.LBI14:
  14:Core/Src/lis2hd12.c **** {
  56              		.loc 1 14 23 view .LVU6
  57              	.LBB15:
  16:Core/Src/lis2hd12.c **** }
  58              		.loc 1 16 5 view .LVU7
  16:Core/Src/lis2hd12.c **** }
  59              		.loc 1 16 12 is_stmt 0 view .LVU8
  60 000c 0122     		movs	r2, #1
  61 000e 0DF10701 		add	r1, sp, #7
  62              	.LVL2:
  16:Core/Src/lis2hd12.c **** }
  63              		.loc 1 16 12 view .LVU9
  64 0012 3220     		movs	r0, #50
  65              	.LVL3:
ARM GAS  /tmp/cchIwsSc.s 			page 3


  16:Core/Src/lis2hd12.c **** }
  66              		.loc 1 16 12 view .LVU10
  67 0014 FFF7FEFF 		bl	i2c_write
  68              	.LVL4:
  16:Core/Src/lis2hd12.c **** }
  69              		.loc 1 16 12 view .LVU11
  70              	.LBE15:
  71              	.LBE14:
  30:Core/Src/lis2hd12.c ****     {
  72              		.loc 1 30 5 is_stmt 1 view .LVU12
  30:Core/Src/lis2hd12.c ****     {
  73              		.loc 1 30 7 is_stmt 0 view .LVU13
  74 0018 08B1     		cbz	r0, .L4
  75              	.L2:
  76              	.LVL5:
  30:Core/Src/lis2hd12.c ****     {
  77              		.loc 1 30 7 view .LVU14
  78              	.LBE13:
  79              	.LBE12:
  45:Core/Src/lis2hd12.c **** }...
  80              		.loc 1 45 1 view .LVU15
  81 001a 02B0     		add	sp, sp, #8
  82              	.LCFI2:
  83              		.cfi_remember_state
  84              		.cfi_def_cfa_offset 8
  85              		@ sp needed
  86 001c 10BD     		pop	{r4, pc}
  87              	.LVL6:
  88              	.L4:
  89              	.LCFI3:
  90              		.cfi_restore_state
  91              	.LBB19:
  92              	.LBB18:
  36:Core/Src/lis2hd12.c ****     return lis2hd12_read(data, 1);
  93              		.loc 1 36 5 is_stmt 1 view .LVU16
  94              	.LBB16:
  95              	.LBI16:
  18:Core/Src/lis2hd12.c **** static inline uint8_t lis2hd12_read(uint8_t *buf, uint32_t len)
  96              		.loc 1 18 23 view .LVU17
  97              	.LBB17:
  20:Core/Src/lis2hd12.c ****     return i2c_read(LIS2HD12_I2C_ADDR, buf, len);
  98              		.loc 1 20 5 view .LVU18
  20:Core/Src/lis2hd12.c ****     return i2c_read(LIS2HD12_I2C_ADDR, buf, len);
  99              		.loc 1 20 12 is_stmt 0 view .LVU19
 100 001e 0122     		movs	r2, #1
 101 0020 2146     		mov	r1, r4
 102 0022 3220     		movs	r0, #50
 103 0024 FFF7FEFF 		bl	i2c_read
 104              	.LVL7:
  20:Core/Src/lis2hd12.c ****     return i2c_read(LIS2HD12_I2C_ADDR, buf, len);
 105              		.loc 1 20 12 view .LVU20
 106              	.LBE17:
 107              	.LBE16:
  36:Core/Src/lis2hd12.c ****     return lis2hd12_read(data, 1);
 108              		.loc 1 36 12 view .LVU21
 109 0028 F7E7     		b	.L2
 110              	.LBE18:
ARM GAS  /tmp/cchIwsSc.s 			page 4


 111              	.LBE19:
 112              		.cfi_endproc
 113              	.LFE134:
 115              		.global	read_complete
 116              		.global	write_complete
 117              		.section	.bss.read_complete,"aw",%nobits
 120              	read_complete:
 121 0000 00       		.space	1
 122              		.section	.bss.write_complete,"aw",%nobits
 125              	write_complete:
 126 0000 00       		.space	1
 127              		.text
 128              	.Letext0:
 129              		.file 2 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/machine/_default_types.h"
 130              		.file 3 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/_stdint.h"
 131              		.file 4 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 132              		.file 5 "Core/Inc/i2c.h"
ARM GAS  /tmp/cchIwsSc.s 			page 5


DEFINED SYMBOLS
                            *ABS*:0000000000000000 lis2hd12.c
     /tmp/cchIwsSc.s:20     .text.lis2hd12_who_am_i:0000000000000000 $t
     /tmp/cchIwsSc.s:26     .text.lis2hd12_who_am_i:0000000000000000 lis2hd12_who_am_i
     /tmp/cchIwsSc.s:120    .bss.read_complete:0000000000000000 read_complete
     /tmp/cchIwsSc.s:125    .bss.write_complete:0000000000000000 write_complete
     /tmp/cchIwsSc.s:121    .bss.read_complete:0000000000000000 $d
     /tmp/cchIwsSc.s:126    .bss.write_complete:0000000000000000 $d

UNDEFINED SYMBOLS
i2c_write
i2c_read
